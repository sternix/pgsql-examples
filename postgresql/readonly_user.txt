-- sadece backup için readonly user
-- bu senaryoda başka bir host'tan bağlanıp yedek alınacağı düşünüldü

create user backup;
\password backup

yedeklenecek her veritabanı için yap
\c test

GRANT SELECT ON ALL TABLES IN SCHEMA public TO backup;
GRANT SELECT ON ALL SEQUENCES IN SCHEMA public TO backup;

verilen grant'lar mevcut nesnelere uygulanıyor
sonradan oluşturulacak tablo ve sequence'lere select hakkı verilebilmesi için

ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT SELECT ON TABLES TO backup; 
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT SELECT ON SEQUENCES TO backup; 

postgresql.conf'ta listen_addresses = '*' olmalı
pg_hba.conf
```
host    test         backup          192.168.10.1/32       scram-sha-256
```

select pg_reload_conf();

psql'de
\z
ile haklar görülebilir

ör sequence için
Access privileges | test=rwU/test             +
                    backup=r/test

tablo için
Access privileges | test=arwdDxt/test         +
                  | backup=r/test

hakları geri almak için
REVOKE SELECT ON ALL TABLES IN SCHEMA public FROM backup;
REVOKE SELECT ON ALL SEQUENCES IN SCHEMA public FROM backup;

ALTER DEFAULT PRIVILEGES IN SCHEMA public REVOKE SELECT ON TABLES FROM backup;
ALTER DEFAULT PRIVILEGES IN SCHEMA public REVOKE SELECT ON SEQUENCES FROM backup;


-- eğer insert vs hakları verilecekse
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT INSERT ON TABLES TO backup;